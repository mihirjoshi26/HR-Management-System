<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{layout :: page_head}"></head>
<body>

	<!-- ✅ Updated Navbar with Update Details, Change Password & Logout -->
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
		<div class="container">
			<a class="navbar-brand" href="/profile">User Profile</a>
			<button class="navbar-toggler" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item dropdown"><a
						class="nav-link dropdown-toggle" href="#" id="profileDropdown"
						role="button" data-bs-toggle="dropdown" aria-expanded="false">
							Profile Options </a>
						<ul class="dropdown-menu" aria-labelledby="profileDropdown">
							<li><a class="dropdown-item" href="/profile/change-password">Change
									Password</a></li>
							<li><hr class="dropdown-divider"></li>
							<li><a class="dropdown-item" href="/leave/apply">Apply
									for Leave</a></li>
							<li><hr class="dropdown-divider"></li>
							<li><a class="dropdown-item" href="/leave/view">View
									Leave Applications</a></li>
							<li><hr class="dropdown-divider"></li>
							<li><a class="dropdown-item" href="/attendance/view">User
									Attendance</a></li>
							<li><hr class="dropdown-divider"></li>
							<li><a class="dropdown-item text-danger fw-bold"
								href="/logout">Logout</a></li>
						</ul></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container py-3">
		<h2 class="text-center mb-5">User Profile</h2>

		<!-- ✅ Success/Error Messages -->
		<div th:if="${success}" class="alert alert-success text-center">
			<p th:text="${success}"></p>
		</div>
		<div th:if="${error}" class="alert alert-danger text-center">
			<p th:text="${error}"></p>
		</div>

		<!-- ✅ Profile Information -->
		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">First Name</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.firstName}" disabled>
			</div>
		</div>

		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Last Name</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.lastName}" disabled>
			</div>
		</div>

		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Email</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.email}" disabled>
			</div>
		</div>

		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Phone</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.phone}" disabled>
			</div>
		</div>

		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Address</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.address}" disabled>
			</div>
		</div>

		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Date of Joining</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.dateOfJoining}"
					disabled>
			</div>
		</div>
		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Salary</label>
			<div class="col-sm-8">
				<input class="form-control"
					th:value="${client.salary != null && client.salary > 0 ? client.salary : 'Not Set'}"
					disabled>

			</div>
		</div>
		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Gender</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.gender}" disabled>
			</div>
		</div>

		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Date of Birth</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.dateOfBirth}"
					disabled>
			</div>
		</div>

		<div class="row mb-3">
			<label class="col-sm-4 col-form-label">Age</label>
			<div class="col-sm-8">
				<input class="form-control" th:value="${client.age}" disabled>
			</div>
		</div>
		<!-- Add this to the profile.html file -->
		<div class="row mb-3">
			<div class="col-sm-8 offset-sm-4">
				<div class="d-flex gap-2">
					<form method="post" th:action="@{/attendance/check-in}">
						<label for="checkInTime">Check-In Time:</label> <input
							type="datetime-local" id="checkInTime" name="checkInTime"
							required>
						<button type="submit" class="btn btn-success">Check-In</button>
					</form>
					<form method="post" th:action="@{/attendance/check-out}">
						<label for="checkOutTime">Check-Out Time:</label> <input
							type="datetime-local" id="checkOutTime" name="checkOutTime"
							required>
						<button type="submit" class="btn btn-danger">Check-Out</button>
					</form>
				</div>
			</div>
		</div>
	</div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
